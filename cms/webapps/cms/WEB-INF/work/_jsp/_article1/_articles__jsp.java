/*
 * JSP generated by Resin-4.0.58 (built Fri, 24 Aug 2018 01:23:14 PDT)
 */

package _jsp._article1;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import java.util.*;
import com.bizwink.cms.news.*;
import com.bizwink.cms.orderArticleListManager.*;
import com.bizwink.cms.security.*;
import com.bizwink.cms.util.*;
import com.bizwink.cms.server.CmsServer;
import com.bizwink.cms.util.Map;
import com.bizwink.cms.refers.IRefersManager;
import com.bizwink.cms.refers.RefersPeer;
import com.bizwink.cms.tree.*;

public class _articles__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;
  private boolean _caucho_isNotModified;
  private com.caucho.jsp.PageManager _jsp_pageManager;
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    com.caucho.jsp.PageContextImpl pageContext = _jsp_pageManager.allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);

    TagState _jsp_state = null;

    try {
      _jspService(request, response, pageContext, _jsp_application, session, _jsp_state);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_pageManager.freePageContext(pageContext);
    }
  }
  
  private void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response,
              com.caucho.jsp.PageContextImpl pageContext,
              javax.servlet.ServletContext application,
              javax.servlet.http.HttpSession session,
              TagState _jsp_state)
    throws Throwable
  {
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    javax.servlet.jsp.tagext.JspTag _jsp_parent_tag = null;
    com.caucho.jsp.PageContextImpl _jsp_parentContext = pageContext;
    response.setContentType("text/html;charset=utf-8");

    out.write(_jsp_string0, 0, _jsp_string0.length);
    
    request.setCharacterEncoding("utf-8");
    Auth authToken = SessionUtil.getUserAuthorization(request, response, session);
    if (authToken == null) {
        response.sendRedirect(response.encodeRedirectURL("../login.jsp?msg=\u7cfb\u7edf\u8d85\u65f6\uff0c\u8bf7\u91cd\u65b0\u767b\u9646!"));
        return;
    }

    //response.setHeader("Pragma","No-cache");
    //response.setHeader("Cache-Control","no-cache");
    //response.setDateHeader("Expires", 0);

    String username = authToken.getUserID();
    String sitename = authToken.getSitename();
    int columnID = ParamUtil.getIntParameter(request, "column", 0);
    int flag = ParamUtil.getIntParameter(request, "flag", 0);
    int start = ParamUtil.getIntParameter(request, "start", 0);
    int range = ParamUtil.getIntParameter(request, "range", 20);
    int msgno = ParamUtil.getIntParameter(request, "msgno", 1);
    int ascdesc = ParamUtil.getIntParameter(request, "ascdesc", 0);
    boolean doSearch = ParamUtil.getBooleanParameter(request, "doSearch");
    int siteid=authToken.getSiteID();
    int samsiteid = authToken.getSamSiteid();
    int sitetype = authToken.getSitetype();         //\u83b7\u53d6\u7f51\u7ad9\u7684\u7c7b\u578b\uff0c\u5982\u679c\u503c\u4e3a\u96f6\uff0c\u662f\u666e\u901a\u7f51\u7ad9\uff0c\u503c\u4e3a1\u662f\u4ece\u7236\u7f51\u7ad9\u6d3e\u751f\u7684\u5b50\u7f51\u7ad9
    IColumnManager columnMgr = ColumnPeer.getInstance();
    Column column = columnMgr.getColumn(columnID);

    int parentColumnID = column.getParentID();

    String selectColumns = "";
    int useArticleType = column.getUseArticleType();
    IOrderArticleListManager orderArticleMgr = orderArticleListPeer.getInstance();
    List articleList = new ArrayList();
    int total = 0;
    if (SecurityCheck.hasPermission(authToken, 54) || SecurityCheck.hasPermission(authToken, 50)|| SecurityCheck.hasPermission(authToken, 51)) {
        username = "";
    }

    String href = null;
    if (doSearch) {
        String value = "";
        String item = ParamUtil.getParameter(request, "item");
        href = "articles.jsp?doSearch=true&flag=" + flag + "&column=" + columnID + "&item=" + item;

        if (item.equals("publishtime")) {
            String publishtime1 = ParamUtil.getParameter(request, "publishtime1");
            String publishtime2 = ParamUtil.getParameter(request, "publishtime2");
            if (publishtime1 == null) publishtime1 = "";
            if (publishtime2 == null) publishtime2 = "";
            if (publishtime1 != "" || publishtime2 != "") value = publishtime1 + "," + publishtime2;
            href += "&publishtime1=" + publishtime1 + "&publishtime2=" + publishtime2;
        } else if (item.equals("all")) {
            String maintitle = ParamUtil.getParameter(request, "maintitle");
            String keyword = ParamUtil.getParameter(request, "keyword");
            String vicetitle = ParamUtil.getParameter(request, "vicetitle");
            String author = ParamUtil.getParameter(request, "author");
            String source = ParamUtil.getParameter(request, "source");
            String publishtime1 = ParamUtil.getParameter(request, "publishtime1");
            String publishtime2 = ParamUtil.getParameter(request, "publishtime2");
            int status = ParamUtil.getIntParameter(request, "status", 0);

            if (maintitle != null && maintitle.trim().length() > 0)
                value += "maintitle like '%" + maintitle + "%' and ";
            if (keyword != null && keyword.trim().length() > 0)
                value += "keyword like '%" + keyword + "%' and ";
            if (vicetitle != null && vicetitle.trim().length() > 0)
                value += "vicetitle like '%" + vicetitle + "%' and ";
            if (author != null && author.trim().length() > 0)
                value += "author like '%" + author + "%' and ";
            if (source != null && source.trim().length() > 0)
                value += "source like '%" + source + "%' and ";
            if (status > 0) {
                if (status == 1) value += "status=1 and auditflag=0 and pubflag=1 and ";  //\u65b0\u7a3f
                if (status == 2) value += "status=1 and auditflag=0 and pubflag=0 and ";  //\u5df2\u53d1\u5e03
                if (status == 3) value += "status=0 and auditflag=0 and ";                //\u672a\u7528
                if (status == 4) value += "status=1 and auditflag=1 and ";                //\u5728\u5ba1
                if (status == 5) value += "auditflag=2 and ";                             //\u9000\u7a3f
            }

            if (CmsServer.getInstance().getDBtype().equals("oracle")) {
                if (publishtime1 != null && publishtime1.trim().length() > 0)
                    value += "publishtime >= TO_DATE('" + publishtime1 + "','YYYY-MM-DD') and ";
                if (publishtime2 != null && publishtime2.trim().length() > 0)
                    value += "publishtime <= TO_DATE('" + publishtime2 + "','YYYY-MM-DD') and ";
            } else {
                if (publishtime1 != null && publishtime1.trim().length() > 0)
                    value += "publishtime >= '" + publishtime1 + "' and ";
                if (publishtime2 != null && publishtime2.trim().length() > 0)
                    value += "publishtime <= '" + publishtime2 + "' and ";
            }

            if (value.length() > 0) value = value.substring(0, value.length() - 4);

            if (maintitle == null) maintitle = "";
            if (keyword == null) keyword = "";
            if (vicetitle == null) vicetitle = "";
            if (author == null) author = "";
            if (source == null) source = "";
            if (publishtime1 == null) publishtime1 = "";
            if (publishtime2 == null) publishtime2 = "";
            href += "&maintitle=" + maintitle + "&keyword=" + keyword + "&vicetitle=" + vicetitle + "&author=" + author + "&source=" + source + "&publishtime1=" + publishtime1 + "&publishtime2=" + publishtime2 + "&status=" + status;
        } else {
            value = ParamUtil.getParameter(request, item);
            if (value == null) value = "";
            href += "&" + item + "=" + value;
        }

        if (value != null && value.length() > 0) {
            try {
                if (SecurityCheck.hasPermission(authToken, 54)) {
                    articleList = orderArticleMgr.searchArticles(columnID, item, value, "*", start, range,siteid,flag,ascdesc);
                    total = orderArticleMgr.searchArticlesCount(columnID, item, value, "*",siteid);
                } else if (SecurityCheck.hasPermission(authToken, 50)|| SecurityCheck.hasPermission(authToken, 51)){
                    //\u7528\u6237\u6709\u8bfb\u6743\u9650\u548c\u5199\u6743\u9650
                    articleList = orderArticleMgr.searchArticles(columnID, item, value, "*", start, range,siteid,flag,ascdesc);
                    total = orderArticleMgr.searchArticlesCount(columnID, item, value, "*",siteid);
                } else {
                    articleList = orderArticleMgr.searchArticles(columnID, item, value, username, start, range,siteid,flag,ascdesc);
                    total = orderArticleMgr.searchArticlesCount(columnID, item, value, username,siteid);
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
        href = StringUtil.replace(href, " ", "%20");
        href = StringUtil.replace(href, "\"", "&quot;");
    } else {
        try {
            articleList = orderArticleMgr.getArticlesByPage1(columnID, start, range, flag, username, selectColumns,siteid,ascdesc);
            total = orderArticleMgr.getArticleNum(columnID, username, selectColumns,siteid);
        } catch (Exception e) {
        }
    }

    int articleCount = articleList.size();
    //int allArticleNum = orderArticleMgr.getAllArticleNum(columnID, username,selectColumns,siteid);       //\u5305\u62ec\u5b50\u680f\u76ee\u6240\u6709\u7684\u6587\u7ae0
    int totalpages = 0;
    if (total > 0) {
        if (total % 20 == 0) {
            totalpages = total / 20;
        } else {
            totalpages = total / 20 + 1;
        }
    }

    Tree colTree = null;
    if (samsiteid == 0)
        colTree = TreeManager.getInstance().getSiteTree(siteid);
    else
        colTree = TreeManager.getInstance().getSiteTreeIncludeSampleSite(siteid,samsiteid);
    sitename = StringUtil.replace(sitename,"_",".");
    String cname = colTree.getChineseDirForArticle(colTree,columnID,sitename);

    out.write(_jsp_string1, 0, _jsp_string1.length);
    out.print((columnID));
    out.write(_jsp_string2, 0, _jsp_string2.length);
    out.print((columnID));
    out.write(_jsp_string3, 0, _jsp_string3.length);
    
    String[][] titlebars = {
            {"\u6587\u7ae0\u7ba1\u7406", ""},
            {StringUtil.gb2iso4View(cname), ""}
    };

    String[][] operations = {
            {"<a href=javascript:createArticle(" + columnID + ")>\u65b0\u5efa</a>&nbsp;", ""},
            {"<a href=javascript:uploadpics(" + columnID + ")>\u6279\u91cf\u4e0a\u4f20\u56fe\u7247</a>", ""},
            {"\u4e0a\u4f20\u6587\u4ef6", "../upload/createuploadfile.jsp?column=" + columnID},
            {"\u9000\u7a3f", "returnarticle.jsp?column=" + columnID},
            {"\u5728\u5ba1", "auditarticle.jsp?column=" + columnID},
            {"\u672a\u7528", "unusedarticle.jsp?column=" + columnID},
            {"\u5f52\u6863", "archivearticle.jsp?column=" + columnID},
            {"<a href=javascript:referArticle(" + columnID + ")>\u5f15\u7528</a>&nbsp;", ""},
            {"<a href=javascript:WebEdit();>\u6587\u4ef6\u5939\u7ba1\u7406</a>", ""}
    };

    out.write(_jsp_string4, 0, _jsp_string4.length);
    
if( titlebars != null ) {
    out.println("<table class=line width=100% border=0 cellspacing=0 cellpadding=0>");
    out.println("<tr bgcolor=#003366><td height=2 colspan=2></td></tr>");
    out.println("<tr><td width=50% class=line>");
    int i=0;
    while( titlebars.length > 1 && i < (titlebars.length-1) ) {
	     out.println("<a href=\"javascript:parent.document.location='index.jsp'\" target=_blank>");
	     out.println(titlebars[i][0] +"</a>&gt;");
	     i++;
    }
    if( titlebars.length >= 1 ) {
        out.println(titlebars[i][0]);
    }
    out.println("</td><td width=50% align=right class=line>");
    if (operations != null && parentColumnID>0) {
        i=0;
        while( operations.length > 0 && i < operations.length ) {
            if(operations[i][1] != "")
                out.println("<a href="+ operations[i][1] +">"+ operations[i][0] +"</a>&nbsp;");
            else
                out.println(operations[i][0]);
	    i++;
        }
    }
    out.println("</td></tr>");
    out.println("<tr bgcolor=#003366><td colspan=2 height=2></td>");
    out.println("</tr></table>");
}

    out.write(_jsp_string5, 0, _jsp_string5.length);
    
                if (msgno == 0)
                    out.println("\u9875\u9762\u53d1\u5e03\u6210\u529f\uff01");
                else if (msgno == -1)
                    out.println("\u67d0\u680f\u76ee\u6ca1\u6709\u8bbe\u7f6e\u7d22\u5f15\u9875\u6a21\u677f\uff01");
                else if (msgno == -2)
                    out.println("\u5199\u6587\u4ef6\u65f6\u51fa\u73b0\u9519\u8bef\uff01");
                else if (msgno == -3)
                    out.println("\u751f\u6210\u6587\u7ae0\u5217\u8868\u6587\u4ef6\u65f6\u51fa\u73b0\u9519\u8bef\uff01");
                else if (msgno == -4)
                    out.println("\u67d0\u680f\u76ee\u6a21\u677f\u7684\u6587\u4ef6\u540d\u4e3a\u7a7a\uff01");
                else if (msgno == 2)
                    out.println("\u66f4\u65b0RSS\u6210\u529f\uff01");
                else if (msgno == 3)
                    out.println("\u6279\u91cf\u5220\u9664\u6587\u4ef6\u6210\u529f\uff01");
            
    out.write(_jsp_string6, 0, _jsp_string6.length);
    
    if (articleCount > 0) {
        out.println("<table cellpadding=1 cellspacing=1 width=100% border=0>");
        out.println("<tr><td width=50% align=left class=line>");
        if (start - range >= 0) {
            if (href == null)
                out.println("<a href=articles.jsp?ascdesc=" + ascdesc + "&flag=" + flag + "&column=" + columnID + "&range=" + range + "&start=" + (start - range) + "><img src=../images/btn_previous.gif align=bottom border=0></a>" + start);
            else     //\u975e\u7a7a\uff0c\u6267\u884c\u68c0\u7d22\u64cd\u4f5c
                out.println("<a href=" + href + "&range=" + range + "&ascdesc=" + ascdesc + "&start=" + (start - range) + "><img src=../images/btn_previous.gif align=bottom border=0></a>" + start);
        }
        out.println("</td><td width=50% align=right class=line>");
        if (start + range < total) {
            int remain = ((start + range - total) < range) ? (total - start - range) : range;
            if (href == null)
                out.println(remain + "<a href=articles.jsp?ascdesc=" + ascdesc + "&flag=" + flag + "&column=" + columnID + "&range=" + range + "&start=" + (start + range) + "><img src=../images/btn_next.gif align=bottom border=0></a>");
            else   //\u975e\u7a7a\uff0c\u6267\u884c\u68c0\u7d22\u64cd\u4f5c
                out.println(remain + "<a href=" + href + "&range=" + range + "&ascdesc=" + ascdesc + "&start=" + (start + range) + "><img src=../images/btn_next.gif align=bottom border=0></a>");
        }
        out.println("</td></tr></table>");
    }

    out.write(_jsp_string7, 0, _jsp_string7.length);
    out.print((columnID));
    out.write(_jsp_string8, 0, _jsp_string8.length);
    out.print((start));
    out.write(_jsp_string9, 0, _jsp_string9.length);
    out.print((range));
    out.write(_jsp_string10, 0, _jsp_string10.length);
    out.print(((href==null)?"articles.jsp?flag=1&column="+columnID:href));
    out.write(_jsp_string11, 0, _jsp_string11.length);
    out.print(((ascdesc==0)?1:0));
    out.write(_jsp_string12, 0, _jsp_string12.length);
    out.print(((href==null)?"articles.jsp?flag=4&column="+columnID:href));
    out.write(_jsp_string11, 0, _jsp_string11.length);
    out.print(((ascdesc==0)?1:0));
    out.write(_jsp_string13, 0, _jsp_string13.length);
    out.print(((href==null)?"articles.jsp?flag=5&column="+columnID:href));
    out.write(_jsp_string11, 0, _jsp_string11.length);
    out.print(((ascdesc==0)?1:0));
    out.write(_jsp_string14, 0, _jsp_string14.length);
    out.print(((href==null)?"articles.jsp?flag=2&column="+columnID:href));
    out.write(_jsp_string11, 0, _jsp_string11.length);
    out.print(((ascdesc==0)?1:0));
    out.write(_jsp_string15, 0, _jsp_string15.length);
    out.print(((href==null)?"articles.jsp?flag=3&column="+columnID:href));
    out.write(_jsp_string11, 0, _jsp_string11.length);
    out.print(((ascdesc==0)?1:0));
    out.write(_jsp_string16, 0, _jsp_string16.length);
    

  String articleIds = "";
  for (int i = 0; i < articleCount; i++) {
    Article article = (Article) articleList.get(i);

    int multimediatype = article.getMultimediatype();
    int articleID = article.getID();
    int articleCID = article.getColumnID();
    boolean isown = true;
    if(articleCID != columnID) isown = false;
    int lockflag = article.getLockStatus();

    int pubflag = 0;
    IRefersManager refersMgr = RefersPeer.getInstance();

    if(isown)
        pubflag = article.getPubFlag();
    else{
        try {
            pubflag = refersMgr.getRefersArticlePubFlag(articleID, columnID,siteid);
        } catch (orderArticleException e) {
            e.printStackTrace();
        }
    }

    int docLevel = article.getDocLevel();
    int viceDocLevel = article.getViceDocLevel();
    int referID = article.getReferArticleID();
    int emptyflag = article.getNullContent();
    articleIds = articleIds + articleID + ",";

    String lockeditor = article.getLockEditor();
    String maintitle = StringUtil.gb2iso4View(article.getMainTitle());
    String editor = article.getEditor();
    String publishtime = "&nbsp;";
    String lastupdated = "&nbsp;";

    String filename = article.getFileName();
    String ext = ".txt";
    if ((filename != null) && (filename.indexOf(".") != -1)) {
      ext = filename.substring(filename.lastIndexOf(".") + 1);
    }
    Map map = new Map();
    ext = map.getFileType(ext);

    if (article.getPublishTime() != null) publishtime = article.getPublishTime().toString().substring(0, 19);
    if (article.getLastUpdated() != null) lastupdated = article.getLastUpdated().toString().substring(0, 19);

    //\u662f\u5426\u6b63\u5728\u5ba1\u6838\u4e2d,\u4e3a\u7a7a,\u5219\u8868\u793a\u4e0d\u5728\u5ba1\u6838\u4e2d\u6216\u5df2\u5ba1\u6838\u5b8c\u6bd5
    String bgcolor = (i % 2 == 0) ? "#ffffff" : "#eeeeee";
    out.println("<tr bgcolor=" + bgcolor + " class=itm onmouseover=\"this.style.background='#CECEFF';\" onmouseout=\"this.style.background='" + bgcolor + "';\" height=25>" +
     "<td align=center>");
    out.print("<input type=checkbox name=article value=" + articleID + ">");
    out.println("</td>");

    if (emptyflag == 0) {
      if (article.getStatus() == 0) {
        out.println("<td align=center><img src=\"../images/button/wei.gif\" alt=\"\u672a\u4f7f\u7528\u6587\u7ae0\"></td>");
      } else if (article.getStatus() == 1 || article.getStatus() == 5 || article.getStatus() == 4 || article.getStatus() == 6) {
        if (article.getAuditFlag() == 0)
          switch (pubflag) {
            case 0:
              out.println("<td align=center><img src=\"../images/button/yi.gif\" border=0 alt=\"\u5df2\u53d1\u5e03\"></td>");
              break;
            case 1:
                if(multimediatype == 1){
                   out.println("<td align=center><img src=\"../images/button/dmt.gif\" border=0 alt=\"\u591a\u5a92\u4f53\"></td>");
                }else{
                   out.println("<td align=center><img src=\"../images/button/xin.gif\" border=0 alt=\"\u65b0\u7a3f\"></td>");
                }
              break;
            case 2:
              out.println("<td align=center><font color=red>\u53d1\u5e03\u4e2d</font></td>");
              break;
            default:
              break;
          }
        else if (article.getAuditFlag() == 1)
          out.println("<td align=center><img src=\"../images/button/shen.gif\" border=0 alt=\"\u5728\u5ba1\"></td>");
        else
          out.println("<td align=center><img src=\"../images/button/tui.gif\" border=0 alt=\"\u9000\u7a3f\"></td>");
      } else if(article.getStatus() == 3){      //\u591a\u5a92\u4f53\u6587\u4ef6\u7b49\u5f85\u8f6c\u6362\u72b6\u6001
        out.println("<td align=center><img src=\"../images/button/dai.gif\" border=0 alt=\"\u7b49\u5f85\"></td>");
      }  else {                                  //2\u662f\u5f52\u6863\u72b6\u6001
        out.println("<td align=center><img src=\"../images/button/dang.gif\" border=0 alt=\"\u5b58\u6863\"></td>");
      }
    } else {
      out.println("<td align=center><img src=\"../images/button/" + ext + "\" border=0 alt=\"\u4e0a\u4f20\u6587\u4ef6\"></td>");
    }

     out.print("<td align=center>");
    if (article.getJoinRSS() == 1)
        out.print("R");
    else
        out.print("&nbsp;");
    out.println("</td>");

    if (emptyflag == 0){
        if ((referID > 0) || (!isown)) {
            String refersFrom = refersMgr.getRefersFrom(articleCID, articleID, columnID);
            if((refersFrom == null)||(refersFrom.equals(""))||(refersFrom.length()==0)) refersFrom = "";
            out.println("<td><a title='" + refersFrom + "'>" + maintitle + "</a>");
        } else {
            String refersTo = refersMgr.getRefersTo(articleID, columnID);
            if((refersTo == null)||(refersTo.equals(""))||(refersTo.length()==0)) refersTo = "";
            if (SecurityCheck.hasPermission(authToken, 51) || SecurityCheck.hasPermission(authToken, 54) || editor.equalsIgnoreCase(authToken.getUserID())){
                out.println("<td><a href=javascript:editArticle(" + columnID + "," + articleID + "," + range + "," + start + ",'c'); title='"+refersTo+"'>" + maintitle + "</a>");
            } else {
                out.println("<td>" + maintitle + "</td>");
            }
        }
    }else
        out.println("<td><a href=../upload/edituploadfile.jsp?article=" + articleID + ">" + maintitle + "</a>");

    if ((referID > 0) || (!isown)){
        useArticleType = refersMgr.getRefersArticleUseType(articleID, columnID);
        if(useArticleType==0)
            out.println("<font color=red style='font-size:9px'>(\u5730\u5740\u5f15\u7528)</font>");
        else
            out.println("<font color=red style='font-size:9px'>(\u5185\u5bb9\u5f15\u7528)</font>");
    }
    out.println("</td>");
    out.println("<td align=center>" + publishtime + "</td>");
    out.println("<td align=center>" + lastupdated + "</td>");
    out.println("<td align=center>" + docLevel + "</td>");
    out.println("<td align=center>" + viceDocLevel + "</td>");
    out.println("<td>" + editor + "</td>");
    //out.println("<td><a href=javascript:Preview(" + articleID + "," + columnID + ");>" + "\u9644\u4ef6" + "</a></td>");
    out.println("<td align=center><a href=javascript:Preview(" + articleID + "," + columnID + ");><img src=\"../images/button/view.gif\" border=0 alt=\"\u9884\u89c8\u6587\u7ae0\"></a></td>");

    out.println("<td align=center>");
    if (SecurityCheck.hasPermission(authToken, 51) || SecurityCheck.hasPermission(authToken, 54) || editor.equalsIgnoreCase(authToken.getUserID())){
      if (lockflag == 0)            //\u6ca1\u6709\u9501\u5b9a
        if (emptyflag == 0){        //\u975e\u4e0a\u4f20\u6587\u4ef6\uff0c\u5185\u5bb9\u4e0d\u4e3a\u7a7a
          if ((referID > 0) || (!isown))
            out.println("&nbsp;");
          else
            if (article.getAuditFlag() == 0 || article.getAuditFlag() == 2)   //2\u662f\u9000\u7a3f\u72b6\u6001   0--\u4e0d\u9700\u8981\u5ba1\u6838
               out.println("<a href=javascript:editArticle(" + columnID + "," + articleID + "," + range + "," + start + ",'c');><img src=\"../images/button/edit.gif\" alt=\"\u7f16\u8f91\u6587\u7ae0\" align=bottom border=0></a>");
            else
               out.println("&nbsp;");
        } else {                     //\u4e0a\u4f20\u6587\u4ef6\uff0c\u5185\u5bb9\u4e3a\u7a7a
          if (article.getAuditFlag() == 0 || article.getAuditFlag() == 2)     //2\u662f\u9000\u7a3f\u72b6\u6001  0--\u4e0d\u9700\u8981\u5ba1\u6838
              out.println("<a href=../upload/edituploadfile.jsp?article=" + articleID + "><img src=\"../images/button/edit.gif\" align=bottom border=0 alt=\"\u7f16\u8f91\u6587\u7ae0\"></a>");
          else
             out.println("&nbsp;");
         }
      else
      if (authToken.getUserID().equalsIgnoreCase(lockeditor) || SecurityCheck.hasPermission(authToken, 54)) {  //\u88ab\u5f53\u524d\u7528\u6237\u9501\u5b9a\u6216\u5f53\u524d\u7528\u6237\u4e3aWebmaster
        if((referID > 0) || !isown)
            out.println("<img src=\"../images/button/lock.gif\" align=bottom border=0 alt=\"\u5df2\u88ab\u9501\u5b9a\">");
        else
            out.println("<a href=javascript:editArticle(" + columnID + "," + articleID + "," + range + "," + start + ",'c');><img src=\"../images/button/lock.gif\" align=bottom border=0 alt=\"\u5df2\u88ab\u9501\u5b9a\"></a>");
      } else {                  //\u88ab\u5176\u4ed6\u7528\u6237\u9501\u5b9a
        if((referID > 0) || !isown)
            out.println("<img src=\"../images/button/lock.gif\" align=bottom border=0 alt=\"\u5df2\u88ab\u9501\u5b9a\">");
        else
            out.println("<img src=\"../images/button/lock.gif\" align=bottom border=0 alt=\"\u5df2\u88ab\u9501\u5b9a\">");
      }
      out.println("</td>");
    } else {
      out.println("&nbsp;");
    }

    //\u5220\u9664\u6587\u7ae0
    out.println("<td align=center>");
    if (SecurityCheck.hasPermission(authToken, 52) || SecurityCheck.hasPermission(authToken, 54) || editor.equalsIgnoreCase(authToken.getUserID()))
      if (article.getAuditFlag() == 0) {
           if (!isown)
              out.println("<a href=\"removeRefersArticle.jsp?flag=" + flag + "&ascdesc=" + ascdesc + "&article=" + articleID + "&start=" + start + "&range=" + range + "&column=" + columnID + "\"><img src=\"../images/button/del.gif\" align=bottom border=0 alt=\"\u5220\u9664\u6587\u7ae0\"></a>");
           else
              out.println("<a href=\"removearticle.jsp?flag=" + flag + "&ascdesc=" + ascdesc + "&article=" + articleID + "&start=" + start + "&range=" + range + "&fromflag=a\"><img src=\"../images/button/del.gif\" align=bottom border=0 alt=\"\u5220\u9664\u6587\u7ae0\"></a>");
      } else {
           out.println("&nbsp;");
      }
    else
      out.println("&nbsp;");
    out.println("</td>");

    //\u6587\u7ae0\u63a8\u9001
    out.println("<td align=center>");
    if (SecurityCheck.hasPermission(authToken, 52) || SecurityCheck.hasPermission(authToken, 54) || editor.equalsIgnoreCase(authToken.getUserID()))
      if (article.getAuditFlag() == 0) {
          if ((referID > 0) || (!isown))
              out.println("&nbsp;");
          else
              out.println("<a href=\"javascript:pushArticle("+articleID+","+start+","+range+");\"><img src=\"../images/button/pub.gif\" align=bottom border=0 alt=\"\u6587\u7ae0\u63a8\u9001\"></a>");
      } else {
          out.println("&nbsp;");
      }
    else
      out.println("&nbsp;");
    out.println("</td>");


    //\u6587\u7ae0\u53d1\u5e03
    if ((article.getStatus() == 1 || article.getStatus() == 4 || article.getStatus() == 5 || article.getStatus() == 6) && article.getAuditFlag() == 0 && emptyflag == 0)
      if (referID > 0)
        out.println("<td align=center>&nbsp;</td>");
      else{
        if(!isown) {
            if(useArticleType == 0)
                out.println("<td align=center>&nbsp;</td>");
            else
            if (SecurityCheck.hasPermission(authToken, 6) || SecurityCheck.hasPermission(authToken, 8) || SecurityCheck.hasPermission(authToken, 54))     //\u7528\u6237\u662f\u5426\u6709\u6587\u7ae0\u53d1\u5e03\u7684\u6743\u9650
                out.println("<td align=center><a href=\"../publish/publish.jsp?flag=" + flag + "&ascdesc=" + ascdesc + "&column=" + columnID + "&article=" + articleID + "&start=" + start + "&range=" + range + "&source=3&isown="+isown+"\"><img src=../images/button/2scrollbox2.bmp border=0 alt=\"\u53d1\u5e03\u6587\u7ae0\"></a></td>");
            else
                out.println("<td align=center>&nbsp;</td>");
        } else if(multimediatype == 1){
            out.println("<td align=center>&nbsp;</td>");
        } else {
            if (SecurityCheck.hasPermission(authToken, 6)||SecurityCheck.hasPermission(authToken, 8) || SecurityCheck.hasPermission(authToken, 54))     //\u7528\u6237\u662f\u5426\u6709\u6587\u7ae0\u53d1\u5e03\u7684\u6743\u9650
                out.println("<td align=center><a href=\"../publish/publish.jsp?flag=" + flag + "&ascdesc=" + ascdesc + "&column=" + columnID + "&article=" + articleID + "&start=" + start + "&range=" + range + "&source=3&isown="+isown+"\"><img src=../images/button/2scrollbox2.bmp border=0 alt=\"\u53d1\u5e03\u6587\u7ae0\"></a></td>");
            else
                out.println("<td align=center>&nbsp;</td>");
        }
      }
    else
      out.println("<td align=center>&nbsp;</td>");
    out.println("</tr>");
  }

  if((articleIds != null)&&(articleIds.indexOf(",") != -1))
    articleIds = articleIds.substring(0, articleIds.length()-1);


    out.write(_jsp_string17, 0, _jsp_string17.length);
    if (articleCount > 0) {
    out.write(_jsp_string18, 0, _jsp_string18.length);
    out.print((articleIds));
    out.write(_jsp_string19, 0, _jsp_string19.length);
    }
    out.write(_jsp_string20, 0, _jsp_string20.length);
    out.print((columnID));
    out.write(_jsp_string21, 0, _jsp_string21.length);
    out.print((total));
    out.write(_jsp_string22, 0, _jsp_string22.length);
    if (totalpages >= 1) {
    out.write('\u603b');
    out.print((totalpages));
    out.write(_jsp_string23, 0, _jsp_string23.length);
    out.print(((start + range) / 20));
    out.write(_jsp_string24, 0, _jsp_string24.length);
    out.print(((start+range)/20));
    out.write(_jsp_string25, 0, _jsp_string25.length);
    out.print((columnID));
    out.write(',');
    out.print((flag));
    out.write(_jsp_string26, 0, _jsp_string26.length);
    }
    out.write(_jsp_string27, 0, _jsp_string27.length);
  }

  private com.caucho.make.DependencyContainer _caucho_depends
    = new com.caucho.make.DependencyContainer();

  public java.util.ArrayList<com.caucho.vfs.Dependency> _caucho_getDependList()
  {
    return _caucho_depends.getDependencies();
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    _caucho_depends.add(depend);
  }

  protected void _caucho_setNeverModified(boolean isNotModified)
  {
    _caucho_isNotModified = true;
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;

    if (_caucho_isNotModified)
      return false;

    if (com.caucho.server.util.CauchoSystem.getVersionId() != 6165118203484593848L)
      return true;

    return _caucho_depends.isModified();
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
    TagState tagState;
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("article1/articles.jsp"), -7991152363290290057L, false);
    _caucho_depends.add(depend);
    loader.addDependency(depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("inc/titlebarforarticle.jsp"), -5842536942879348470L, false);
    _caucho_depends.add(depend);
    loader.addDependency(depend);
  }

  final static class TagState {

    void release()
    {
    }
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void caucho_init(ServletConfig config)
  {
    try {
      com.caucho.server.webapp.WebApp webApp
        = (com.caucho.server.webapp.WebApp) config.getServletContext();
      init(config);
      if (com.caucho.jsp.JspManager.getCheckInterval() >= 0)
        _caucho_depends.setCheckInterval(com.caucho.jsp.JspManager.getCheckInterval());
      _jsp_pageManager = webApp.getJspApplicationContext().getPageManager();
      com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
      com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.InitPageContextImpl(webApp, this);
    } catch (Exception e) {
      throw com.caucho.config.ConfigException.create(e);
    }
  }

  private final static char []_jsp_string12;
  private final static char []_jsp_string11;
  private final static char []_jsp_string26;
  private final static char []_jsp_string9;
  private final static char []_jsp_string25;
  private final static char []_jsp_string27;
  private final static char []_jsp_string22;
  private final static char []_jsp_string16;
  private final static char []_jsp_string8;
  private final static char []_jsp_string24;
  private final static char []_jsp_string20;
  private final static char []_jsp_string23;
  private final static char []_jsp_string18;
  private final static char []_jsp_string14;
  private final static char []_jsp_string1;
  private final static char []_jsp_string19;
  private final static char []_jsp_string6;
  private final static char []_jsp_string7;
  private final static char []_jsp_string5;
  private final static char []_jsp_string21;
  private final static char []_jsp_string10;
  private final static char []_jsp_string13;
  private final static char []_jsp_string0;
  private final static char []_jsp_string17;
  private final static char []_jsp_string4;
  private final static char []_jsp_string3;
  private final static char []_jsp_string2;
  private final static char []_jsp_string15;
  static {
    _jsp_string12 = "\">\u6807\u9898</a></td>\r\n    <td align=center width=\"12%\"><a href=\"".toCharArray();
    _jsp_string11 = "&ascdesc=".toCharArray();
    _jsp_string26 = ");\">GO</a>".toCharArray();
    _jsp_string9 = "\">\r\n<input type=hidden name=range value=\"".toCharArray();
    _jsp_string25 = "\" size=\"2\">\r\n                <a href=\"javascript:golist(document.all('jump').value,".toCharArray();
    _jsp_string27 = "\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=3></td>\r\n        </tr>\r\n    </table>\r\n    <div id=searchDiv style=\"display:none\">\r\n        <table border=\"0\" width=\"98%\" cellspacing=0 cellpadding=0 align=center>\r\n            <tr>\r\n                <td width=\"40%\">\u6587\u7ae0ID\uff1a&nbsp;&nbsp;<input name=id size=30></td>\r\n                <td width=\"60%\" colspan=2><input style=\"height:20;width:40;font-size:9pt\" type=button value=\" \u641c\u7d22 \"\r\n                                                 onclick=\"search('id');\"></td>\r\n            </tr>\r\n            <tr>\r\n                <td width=\"40%\">\u5173\u952e\u5b57\uff1a&nbsp;&nbsp;<input name=keyword size=30></td>\r\n                <td width=\"60%\" colspan=2><input style=\"height:20;width:40;font-size:9pt\" type=button value=\" \u641c\u7d22 \"\r\n                                                 onclick=\"search('keyword');\"></td>\r\n            </tr>\r\n            <tr>\r\n                <td width=\"40%\">\u526f\u6807\u9898\uff1a&nbsp;&nbsp;<input name=vicetitle size=30></td>\r\n                <td width=\"60%\" colspan=2><input style=\"height:20;width:40;font-size:9pt\" type=button value=\" \u641c\u7d22 \"\r\n                                                 onclick=\"search('vicetitle');\"></td>\r\n            </tr>\r\n            <tr>\r\n                <td width=\"40%\">\u4f5c&nbsp;&nbsp;\u8005\uff1a&nbsp;&nbsp;<input name=author size=30></td>\r\n                <td width=\"60%\" colspan=2><input style=\"height:20;width:40;font-size:9pt\" type=button value=\" \u641c\u7d22 \"\r\n                                                 onclick=\"search('author');\"></td>\r\n            </tr>\r\n            <tr>\r\n                <td width=\"40%\">\u6765&nbsp;&nbsp;\u6e90\uff1a&nbsp;&nbsp;<input name=source size=30></td>\r\n                <td width=\"60%\" colspan=2><input style=\"height:20;width:40;font-size:9pt\" type=button value=\" \u641c\u7d22 \"\r\n                                                 onclick=\"search('source');\"></td>\r\n            </tr>\r\n            <tr>\r\n                <td width=\"40%\">\u53d1\u5e03\u65e5\u671f\uff1a<input name=publishtime1 size=12 onfocus=\"setday(this)\">&nbsp;\u5230&nbsp;&nbsp;<input\r\n                        name=publishtime2 size=12 onfocus=\"setday(this)\"></td>\r\n                <td width=\"60%\" colspan=2><input style=\"height:20;width:40;font-size:9pt\" type=button value=\" \u641c\u7d22 \"\r\n                                                 onclick=\"search('publishtime');\"></td>\r\n            </tr>\r\n            <tr>\r\n                <td width=\"40%\">\u6587\u7ae0\u72b6\u6001\uff1a<input type=radio name=status value=1>\u65b0\u7a3f\r\n                    <input type=radio name=status value=2>\u5df2\u53d1\u5e03\r\n                    <input type=radio name=status value=3>\u672a\u7528\r\n                    <input type=radio name=status value=4>\u5728\u5ba1\r\n                    <input type=radio name=status value=5>\u9000\u7a3f\r\n                </td>\r\n                <td width=\"10%\"><input style=\"height:20;width:40;font-size:9pt\" type=button value=\" \u641c\u7d22 \" onclick=\"search('status');\"></td>\r\n                <td width=\"50%\"><input class=tine type=button value=\" \u7ec4\u5408\u641c\u7d22 \" onclick=\"search('all');\"></td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n</form>\r\n\r\n</BODY>\r\n</html>\r\n".toCharArray();
    _jsp_string22 = "&nbsp;&nbsp;\r\n                ".toCharArray();
    _jsp_string16 = "\">\u6b21\u6743\u91cd</a></td>\r\n    <td align=center width=\"7%\">\u7f16\u8f91</td>\r\n    <!--td align=center width=\"5%\">\u9644\u4ef6</td-->\r\n    <td align=center width=\"4%\">\u9884\u89c8</td>\r\n    <td align=center width=\"4%\">\u4fee\u6539</td>\r\n    <td align=center width=\"4%\">\u5220\u9664</td>\r\n    <td align=center width=\"4%\">\u63a8\u9001</td>\r\n    <td align=center width=\"4%\">\u53d1\u5e03</td>\r\n</tr>\r\n    ".toCharArray();
    _jsp_string8 = "\">\r\n<input type=hidden name=start value=\"".toCharArray();
    _jsp_string24 = "\u9875&nbsp;&nbsp;\r\n                \u5230\u7b2c<input type=\"text\" name=\"jump\" value=\"".toCharArray();
    _jsp_string20 = "\r\n</form>\r\n<form action=\"\" method=Post name=searchForm>\r\n    <input type=hidden name=doSearch value=true>\r\n    <input type=hidden name=column value=\"".toCharArray();
    _jsp_string23 = "\u9875&nbsp;\u7b2c".toCharArray();
    _jsp_string18 = "\r\n<table border=\"0\" width=\"98%\" cellspacing=0 cellpadding=0 align=center>\r\n    <tr>\r\n        <td>\r\n            <input type=checkbox name=allbox value=\"CheckAll\" onClick=\"CA();\">\u5168\u90e8\u9009\u4e2d\r\n            &nbsp;&nbsp;<input type=submit name=\"updatecss\" value=\"\u66f4\u65b0RSS\" class=tine>\r\n            &nbsp;&nbsp;<input type=submit name=\"batchdel\" value=\"\u6279\u91cf\u5220\u9664\" class=tine>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<input type=\"hidden\" name=\"allArticleIds\" value=\"".toCharArray();
    _jsp_string14 = "\">\u4fee\u6539\u65f6\u95f4</a></td>\r\n    <td align=center width=\"6%\"><a href=\"".toCharArray();
    _jsp_string1 = "\r\n\r\n<html>\r\n<head>\r\n    <title>\u6240\u6709\u6587\u7ae0</title>\r\n    <meta http-equiv=Content-Type content=\"text/html; charset=utf-8\">\r\n    <meta http-equiv=\"pragma\" content=\"no-cache\" />\r\n    <link rel=stylesheet type=text/css href=\"../style/global.css\">\r\n    <script type=\"text/javascript\" src=\"../js/jquery-1.4.4.min.js\"></script>\r\n    <script language=\"javascript\" src=\"../js/setday.js\"></script>\r\n    <script language=\"javascript\">\r\n        function createArticle(columnID)\r\n        {\r\n            var iWidth=window.screen.availWidth-100;                                                 //\u5f39\u51fa\u7a97\u53e3\u7684\u5bbd\u5ea6;\r\n            var iHeight=800;                                                //\u5f39\u51fa\u7a97\u53e3\u7684\u9ad8\u5ea6;\r\n            //var iTop = (window.screen.availHeight-30-iHeight)/2;        //\u83b7\u5f97\u7a97\u53e3\u7684\u5782\u76f4\u4f4d\u7f6e;\r\n            iTop = 0;\r\n            var iLeft = (window.screen.availWidth-10-iWidth)/2;         //\u83b7\u5f97\u7a97\u53e3\u7684\u6c34\u5e73\u4f4d\u7f6e;\r\n            window.open(\"createarticle.jsp?column=\" + columnID, \"\", \"width=\" + iWidth + \",height=\" + iHeight + \",left=\" + iLeft + \",top=\" + iTop + \",status,scrollbars\");\r\n        }\r\n\r\n        function referArticle(columnID)\r\n        {\r\n            var iWidth=window.screen.availWidth-100;                                                 //\u5f39\u51fa\u7a97\u53e3\u7684\u5bbd\u5ea6;\r\n            var iHeight=800;                                                //\u5f39\u51fa\u7a97\u53e3\u7684\u9ad8\u5ea6;\r\n            //var iTop = (window.screen.availHeight-30-iHeight)/2;        //\u83b7\u5f97\u7a97\u53e3\u7684\u5782\u76f4\u4f4d\u7f6e;\r\n            iTop = 0;\r\n            var iLeft = (window.screen.availWidth-10-iWidth)/2;         //\u83b7\u5f97\u7a97\u53e3\u7684\u6c34\u5e73\u4f4d\u7f6e;\r\n            window.open(\"referarticle.jsp?column=\" + columnID, \"\", \"width=\" + iWidth + \",height=\" + iHeight + \",left=\" + iLeft + \",top=\" + iTop + \",status,scrollbars\");\r\n        }\r\n\r\n        function editArticle(columnID, articleID, range, start, from)\r\n        {\r\n            var iWidth=window.screen.availWidth-100;                                                 //\u5f39\u51fa\u7a97\u53e3\u7684\u5bbd\u5ea6;\r\n            var iHeight=800;                                                //\u5f39\u51fa\u7a97\u53e3\u7684\u9ad8\u5ea6;\r\n            //var iTop = (window.screen.availHeight-30-iHeight)/2;        //\u83b7\u5f97\u7a97\u53e3\u7684\u5782\u76f4\u4f4d\u7f6e;\r\n            iTop = 0;\r\n            var iLeft = (window.screen.availWidth-10-iWidth)/2;         //\u83b7\u5f97\u7a97\u53e3\u7684\u6c34\u5e73\u4f4d\u7f6e;\r\n            window.open(\"editarticle.jsp?article=\" + articleID + \"&range=\" + range + \"&start=\" + start + \"&fromflag=\" + from, \"\", \"width=\" + iWidth + \",height=\" + iHeight + \",left=\" + iLeft + \",top=\" + iTop + \",status,scrollbars\");\r\n        }\r\n\r\n        function Preview(articleID, columnId)\r\n        {\r\n            var iWidth=window.screen.availWidth-100;                                                 //\u5f39\u51fa\u7a97\u53e3\u7684\u5bbd\u5ea6;\r\n            var iHeight=800;                                                //\u5f39\u51fa\u7a97\u53e3\u7684\u9ad8\u5ea6;\r\n            //var iTop = (window.screen.availHeight-30-iHeight)/2;        //\u83b7\u5f97\u7a97\u53e3\u7684\u5782\u76f4\u4f4d\u7f6e;\r\n            iTop = 0;\r\n            var iLeft = (window.screen.availWidth-10-iWidth)/2;         //\u83b7\u5f97\u7a97\u53e3\u7684\u6c34\u5e73\u4f4d\u7f6e;\r\n            window.open(\"preview.jsp?article=\" + articleID + \"&column=\" + columnId, \"Preview\", \"width=\" + iWidth + \",height=\" + iHeight + \",left=\" + iLeft + \",top=\" + iTop + \",status,scrollbars\");\r\n        }\r\n\r\n        function checkNum(str)\r\n        {\r\n            var success = true;\r\n            for (var i = 0; i < str.length; i++)\r\n            {\r\n                if (str.substring(i, i + 1) < '0' || str.substring(i, i + 1) > '9')\r\n                {\r\n                    success = false;\r\n                    break;\r\n                }\r\n            }\r\n            return success;\r\n        }\r\n\r\n        function search(item)\r\n        {\r\n            if (item == 'doclevel')\r\n            {\r\n                if (!checkNum(searchForm.doclevel1.value) || !checkNum(searchForm.doclevel2.value))\r\n                {\r\n                    alert(\"\u6743\u91cd\u5e94\u4e3a\u6574\u6570\uff01\");\r\n                    return;\r\n                }\r\n            }\r\n\r\n            searchForm.action = \"articles.jsp?item=\" + item;\r\n            searchForm.submit();\r\n        }\r\n\r\n        function moreSearch()\r\n        {\r\n            if (searchDiv.style.display == \"\")\r\n                searchDiv.style.display = \"none\";\r\n            else\r\n                searchDiv.style.display = \"\";\r\n        }\r\n\r\n        function CA()\r\n        {\r\n            for (var i = 0; i < document.form1.elements.length; i++)\r\n            {\r\n                var e = document.form1.elements[i];\r\n                if (e.name != 'allbox' && e.type == 'checkbox')\r\n                {\r\n                    e.checked = document.form1.allbox.checked;\r\n                }\r\n            }\r\n        }\r\n\r\n        function WebEdit()\r\n        {\r\n            var iWidth=1200;                                                 //\u5f39\u51fa\u7a97\u53e3\u7684\u5bbd\u5ea6;\r\n            var iHeight=800;                                                //\u5f39\u51fa\u7a97\u53e3\u7684\u9ad8\u5ea6;\r\n            //var iTop = (window.screen.availHeight-30-iHeight)/2;        //\u83b7\u5f97\u7a97\u53e3\u7684\u5782\u76f4\u4f4d\u7f6e;\r\n            iTop = 0;\r\n            var iLeft = (window.screen.availWidth-10-iWidth)/2;         //\u83b7\u5f97\u7a97\u53e3\u7684\u6c34\u5e73\u4f4d\u7f6e;\r\n            window.open(\"../webedit/index.jsp?column=".toCharArray();
    _jsp_string19 = "\">\r\n".toCharArray();
    _jsp_string6 = "\r\n        </td>\r\n    </tr>\r\n</table>\r\n".toCharArray();
    _jsp_string7 = "\r\n<table border=1 borderColorDark=#ffffec borderColorLight=#5e5e00 cellPadding=0 cellSpacing=0 width='100%'>\r\n<form action=\"doArticleRSS.jsp\" method=Post name=form1 onsubmit=\"return doaction(this)\">\r\n<input type=hidden name=column value=\"".toCharArray();
    _jsp_string5 = "\r\n\r\n<table cellpadding=1 cellspacing=1 width=100% border=0>\r\n    <tr>\r\n        <td align=center class=cur>\r\n            ".toCharArray();
    _jsp_string21 = "\">\r\n    <table border=\"0\" width=\"98%\" cellspacing=0 cellpadding=0 align=center>\r\n        <tr>\r\n            <td width=\"40%\">\u6807&nbsp;&nbsp;\u9898\uff1a&nbsp;&nbsp;<input name=maintitle size=30></td>\r\n            <td width=\"20%\"><input style=\"height:20;width:40;font-size:9pt\" type=button value=\" \u641c\u7d22 \"\r\n                                   onclick=\"search('maintitle');\">&nbsp;&nbsp;&nbsp;&nbsp;<a\r\n                    href=\"javascript:moreSearch();\">\u9ad8\u7ea7\u641c\u7d22</a>\r\n            </td>\r\n            <td width=\"40%\">\u5f53\u524d\u680f\u76ee\u7684\u6587\u7ae0\u603b\u6570\u4e3a\uff1a".toCharArray();
    _jsp_string10 = "\">\r\n<tr class=itm bgcolor=\"#dddddd\" height=20>\r\n    <td align=center width=\"4%\">\u9009\u62e9</td>\r\n    <td align=center width=\"4%\">\u72b6\u6001</td>\r\n    <td align=center width=\"4%\">RSS</td>\r\n    <td align=center width=\"25%\"><a href=\"".toCharArray();
    _jsp_string13 = "\">\u53d1\u5e03\u65f6\u95f4</a></td>\r\n    <td align=center width=\"12%\"><a href=\"".toCharArray();
    _jsp_string0 = "\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string17 = "\r\n</table>\r\n".toCharArray();
    _jsp_string4 = "\r\n".toCharArray();
    _jsp_string3 = "\", \"UploadPics\", \"width=\" + iWidth + \",height=\" + iHeight + \",left=\" + iLeft + \",top=\" + iTop + \",status,scrollbars\");\r\n        }\r\n\r\n        function golist(r, id, type) {\r\n            var bor = (r - 1) * 20;\r\n            if (isNumber(r)) {\r\n                window.location = \"articles.jsp?start=\" + bor + \"&column=\" + id + \"&flag=\" + type;\r\n            }\r\n        }\r\n        function isNumber(num) {\r\n            var strRef = \"1234567890\";\r\n            for (i = 0; i < num.length; i++)\r\n            {\r\n                tempChar = num.substring(i, i + 1);\r\n                if (strRef.indexOf(tempChar, 0) == -1) {\r\n                    alert(\"\u8f93\u5165\u9875\u7801\u4e0d\u6b63\u786e\uff01\");\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n\r\n        function pushArticle(articleID, start, range) {\r\n            var iWidth=650;                                                 //\u5f39\u51fa\u7a97\u53e3\u7684\u5bbd\u5ea6;\r\n            var iHeight=400;                                                //\u5f39\u51fa\u7a97\u53e3\u7684\u9ad8\u5ea6;\r\n            window.open(\"addRelateListnew.jsp?articleid=\" + articleID + \"&start=\" + start + \"&range=\" + range + \"&fromflag=a\", \"\", \"width=\" + iWidth + \",height=\" + iHeight + \",top=0, left=0, toolbar=no, menubar=no, resizable=no,location=no, status=no\");\r\n        }\r\n\r\n        function doaction(theform) {\r\n            var articl_ids = '';\r\n            $('input:checkbox[name=article]:checked').each(function(k){\r\n                if(k == 0){\r\n                    articl_ids = $(this).val();\r\n                }else{\r\n                    articl_ids += ','+$(this).val();\r\n                }\r\n            })\r\n            var src=document.activeElement;\r\n            if (src.name=='batchdel' && articl_ids!='') {\r\n                var val = confirm(\"\u662f\u5426\u5220\u9664\u9009\u62e9\u7684\u6587\u4ef6\uff1f\");\r\n                if (val)\r\n                    return true;\r\n                else\r\n                    return false;\r\n            } else {\r\n                var val = confirm(\"\u662f\u5426\u5c06\u9009\u62e9\u7684\u6587\u4ef6\u52a0\u5165RSS\uff1f\");\r\n                if (val)\r\n                    return true;\r\n                else\r\n                    return false;\r\n            }\r\n        }\r\n    </script>\r\n</head>\r\n\r\n<BODY BGCOLOR=#ffffff LINK=#000099 ALINK=#cc0000 VLINK=#000099 TOMARGIN=8>\r\n".toCharArray();
    _jsp_string2 = "&right=4\", \"WebEdit\", \"width=\" + iWidth + \",height=\" + iHeight + \",left=\" + iLeft + \",top=\" + iTop + \",status,scrollbars\");\r\n        }\r\n\r\n        function uploadpics()\r\n        {\r\n            var iWidth=1200;                                                 //\u5f39\u51fa\u7a97\u53e3\u7684\u5bbd\u5ea6;\r\n            var iHeight=800;                                                //\u5f39\u51fa\u7a97\u53e3\u7684\u9ad8\u5ea6;\r\n            //var iTop = (window.screen.availHeight-30-iHeight)/2;        //\u83b7\u5f97\u7a97\u53e3\u7684\u5782\u76f4\u4f4d\u7f6e;\r\n            iTop = 0;\r\n            var iLeft = (window.screen.availWidth-10-iWidth)/2;         //\u83b7\u5f97\u7a97\u53e3\u7684\u6c34\u5e73\u4f4d\u7f6e;\r\n            window.open(\"../upload/uploadpics.jsp?column=".toCharArray();
    _jsp_string15 = "\">\u4e3b\u6743\u91cd</a></td>\r\n    <td align=center width=\"6%\"><a href=\"".toCharArray();
  }
}
